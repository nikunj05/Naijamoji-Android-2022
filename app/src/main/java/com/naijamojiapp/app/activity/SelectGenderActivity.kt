package com.naijamojiapp.app.activityimport android.content.Intentimport android.os.Bundleimport android.text.TextUtilsimport android.util.Logimport android.view.Viewimport android.view.Windowimport android.view.WindowManagerimport android.view.animation.AnimationSetimport android.view.animation.AnimationUtilsimport android.widget.*import androidx.appcompat.app.AppCompatActivityimport androidx.core.content.ContextCompatimport com.naijamojiapp.Rimport com.naijamojiapp.app.customview.CustomDialogimport com.naijamojiapp.app.customview.CustomFontButtonimport com.naijamojiapp.app.gender.AvatarGenderClipViewimport com.naijamojiapp.app.gender.SpringInterpolatorclass SelectGenderActivity : AppCompatActivity(), View.OnClickListener {    var rlBack : RelativeLayout? = null    var mFname : String = ""    var mLname : String = ""    var mEmailId : String = ""    var mPassword : String = ""    var mSocialId : String = ""    var mIsSocial : String = ""    var mBirthdate : String = ""    var mSocialLogintype : String = ""    var rlSelectMale : RelativeLayout? = null    var rlSelectFemale : RelativeLayout? = null    var ivMale : ImageView? = null    var ivFemale : ImageView? = null    var tvMale : TextView? = null    var tvFemale : TextView? = null    var mGender : String? = ""    var llContinue : LinearLayout? = null    var btnContinue : CustomFontButton? = null    override fun onCreate(savedInstanceState: Bundle?) {        super.onCreate(savedInstanceState)        requestWindowFeature(Window.FEATURE_NO_TITLE)        window.setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN)        setContentView(R.layout.activity_select_gender)        if (intent != null) {            if (intent.extras != null) {                if (intent.extras!!.containsKey("isSocial")) {                    if (!TextUtils.isEmpty(intent.extras!!.getString("isSocial"))) {                        if(intent.extras!!.getString("isSocial").equals("0")){                            //Normal                            mFname = intent.extras!!.getString("fname")!!                            mLname = intent.extras!!.getString("lname")!!                            mEmailId = intent.extras!!.getString("email")!!                            mPassword = intent.extras!!.getString("password")!!                            mIsSocial = intent.extras!!.getString("isSocial")!!                            mBirthdate = intent.extras!!.getString("birthdate")!!                        }else{                            //isSocial                            mFname = intent.extras!!.getString("fname")!!                            mLname = intent.extras!!.getString("lname")!!                            mEmailId = intent.extras!!.getString("email")!!                            mSocialLogintype = intent.extras!!.getString("type")!!                            mSocialId = intent.extras!!.getString("social_id")!!                            mIsSocial = intent.extras!!.getString("isSocial")!!                            mBirthdate = ""                        }                    }                }            }        }        init()    }    private fun init() {        rlBack = findViewById(R.id.rl_back)        rlBack!!.setOnClickListener(this)        btnContinue = findViewById(R.id.btn_continue)        btnContinue!!.setOnClickListener(this)        llContinue = findViewById(R.id.ll_continue)        llContinue!!.setOnClickListener(this)        //Gender        rlSelectMale = findViewById(R.id.rl_select_male)        rlSelectMale!!.setOnClickListener(this)        rlSelectMale!!.setTag("0")        rlSelectFemale = findViewById(R.id.rl_select_female)        rlSelectFemale!!.setOnClickListener(this)        rlSelectFemale!!.setTag("0")        rlSelectMale!!.setBackground(ContextCompat.getDrawable(this, R.drawable.rounded_bg_conf_gray))        rlSelectFemale!!.setBackground(ContextCompat.getDrawable(this, R.drawable.rounded_bg_conf_gray))        ivMale = findViewById(R.id.ivMale)        ivFemale = findViewById(R.id.ivFemale)        ivMale!!.setBackground(ContextCompat.getDrawable(this, R.drawable.male_unselected_new))        ivFemale!!.setBackground(ContextCompat.getDrawable(this, R.drawable.female_unselected_new))        tvMale = findViewById(R.id.tv_male)        tvFemale = findViewById(R.id.tv_female)        tvMale!!.setTextColor(ContextCompat.getColor(this, R.color.gray_new))        tvFemale!!.setTextColor(ContextCompat.getColor(this, R.color.gray_new))//        animation()    }    override fun onClick(view: View?) {        when (view!!.id) {            R.id.rl_back -> {                finish()            }            R.id.rl_select_male -> {               // goToNextScreen("M")                if (rlSelectMale!!.getTag().equals("0")) {                    mGender = "M"                    rlSelectMale!!.setTag("1")                    rlSelectFemale!!.setTag("0")                    ivMale!!.setBackground(ContextCompat.getDrawable(this, R.drawable.male_selected_new))                    ivFemale!!.setBackground(ContextCompat.getDrawable(this, R.drawable.female_unselected_new))                    tvMale!!.setTextColor(ContextCompat.getColor(this, R.color.light_black))                    tvFemale!!.setTextColor(ContextCompat.getColor(this, R.color.gray_new))                    rlSelectMale!!.setBackground(ContextCompat.getDrawable(this, R.drawable.rounded_bg_conf_blue))                    rlSelectFemale!!.setBackground(ContextCompat.getDrawable(this, R.drawable.rounded_bg_conf_gray))                }            }            R.id.rl_select_female -> {              //  goToNextScreen("F")                if (rlSelectFemale!!.getTag().equals("0")) {                    mGender = "F"                    rlSelectMale!!.setTag("0")                    rlSelectFemale!!.setTag("1")                    ivMale!!.setBackground(ContextCompat.getDrawable(this, R.drawable.male_unselected_new))                    ivFemale!!.setBackground(ContextCompat.getDrawable(this, R.drawable.female_selected_new))                    tvMale!!.setTextColor(ContextCompat.getColor(this, R.color.gray_new))                    tvFemale!!.setTextColor(ContextCompat.getColor(this, R.color.light_black))                    rlSelectMale!!.setBackground(ContextCompat.getDrawable(this, R.drawable.rounded_bg_conf_gray))                    rlSelectFemale!!.setBackground(ContextCompat.getDrawable(this, R.drawable.rounded_bg_conf_blue))                }            }            R.id.ll_continue-> {                goToNextScreen()            }            R.id.btn_continue-> {                goToNextScreen()            }        }    }    private fun goToNextScreen() {        if(!mGender.equals("")){            val intent = Intent(this, SelectSkinToneActivity::class.java)            intent.putExtra("fname",mFname)            intent.putExtra("lname",mLname)            intent.putExtra("email",mEmailId)            intent.putExtra("password",mPassword)            intent.putExtra("gender",mGender)            intent.putExtra("type",mSocialLogintype)            intent.putExtra("social_id",mSocialId)            intent.putExtra("isSocial",mIsSocial)            intent.putExtra("birthdate", mBirthdate)            startActivity(intent)        }else{            CustomDialog.instance!!.showalert(this@SelectGenderActivity, resources.getString(R.string.pick_a_gender))        }    }}